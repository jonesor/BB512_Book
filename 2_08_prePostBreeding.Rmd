# Pre- and Post-reproduction census

## Background

Population growth estimates depend on when the census is taken relative to reproduction. A pre-breeding census counts individuals before reproduction; a post-breeding census counts them after reproduction. This changes how survival and fecundity are represented in the projection matrix, even if the underlying biology is the same.

## Learning outcomes

::: {.do-something}
Learning outcomes:

- Explain the difference between pre-breeding and post-breeding census models.
- Convert a post-breeding matrix to a pre-breeding matrix.
- Compare growth rates from alternative census timings.
:::

## Worked example

### Inputs

```{r prepostbreeding, echo = TRUE}
p0 <- 0.2
p1 <- 0.9
p2 <- 0.6
m2 <- 3.0
m3 <- 6.0

A1 <- matrix(c(0.0, m2 * p1, m3 * p2,
               p0, 0.0, 0.0,
               0.0,p1,0), byrow = TRUE, nrow = 3)

```

### Steps

1. Define survival and fecundity values.
2. Build the projection matrix for one annual time step.
3. Use the matrix for projection and comparison tasks below.

### Output and interpretation

The resulting matrix encodes the pre-/post-breeding census assumptions for transitions and fecundity over one year.



Convert to pre-breeding

```{r postpreconversion, echo = TRUE}
A2 <- matrix(c(0.0, m2 * p0, m3 * p0,
               p1, 0.0, 0.0,
               0.0,p2,0), byrow = TRUE, nrow = 3)
```

Compare population growth rates. This uses the `eigs` function from the `popdemo` R package.

```{r comparepgr, echo = TRUE}
(popdemo::eigs(A1, what = "lambda"))
(popdemo::eigs(A2, what = "lambda"))
```

## Your task

- Interpret the two values of $\lambda$. Are they identical? If not, why might the census timing change the estimate?
- Modify one survival probability (e.g., `p1`) and compare how the two census approaches respond.

## Takeaways

- Census timing changes how fecundity and survival are encoded in the matrix.
- Pre- and post-breeding models can yield different $\lambda$ estimates from the same biology.
