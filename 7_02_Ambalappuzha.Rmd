# The legend of Ambalappuzha

Exponential growth is a powerful concept. To help us grasp it better let's use an ancient Indian chess legend as an example.

::: {.do-something}
**Learning outcomes**

- Use of Excel formulae for mathematical modelling.
- Understanding the multiplicative process of exponential/geometric growth.

:::



```{r out.width = "50%", fig.align = 'center', echo = FALSE}
knitr::include_graphics('images/Radha-Krishna_chess.jpg')
```


According to legend, Lord Krishna once appeared in the form of a wise man in the court of the king and challenged him to a game of chess. The king was a chess enthusiast and naturally accepted the invitation.

The king asked the wise man to choose a prize in case he won. The old man told the king that he had few material needs and that all he wished was a few grains of rice.

He added that the amount of rice itself should be determined using the chessboard in the following manner: one grain of rice would be placed in the first square, two grains in the second square, four in the third square, and so on. Every square would have double the number of grains of its predecessor.

Upon hearing this, the king was unhappy, since the man requested only a few grains of rice instead of any of the other riches of the kingdom, which the king would have been happy to donate (he was a generous guy). He requested the old man to add other items to his prize, but the man declined.

So the game of chess started and, needless to say, the king lost the game so it was soon time to pay the old man his prize. As he started adding grains of rice to the chessboard, the king soon realised the true nature of the wise man's demand. The royal granary soon ran out of rice and the king realised that even if he provided all the rice in his kingdom and even the whole of India, he would never be able to fulfil the promised reward. He was distraught that he could not fulfil his promise!

Seeing the king upset, the wise man appeared to the king in his true form, that of Lord Krishna. He told the king that he did not have to pay the debt immediately but could pay him over time. The king would serve rice in the temple freely to the pilgrims every day until the debt was paid off. And that is why the Ambalappuzha Temple in India still serves rice pudding (palpayasam) to pilgrims – the debt is still being paid off.


Use the Excel sheet [RiceOnAChessboard.xlsx](https://www.dropbox.com/s/nf81t0hzz34vyzk/RiceOnAChessboard.xlsx?dl=1) to calculate the quantity of rice that the king owed.

A grain of rice weighs 25mg, what weight of rice did the king owe in total, in kg?

## Animals/plants, not grains of rice

Imagine that instead of rice, we were talking about population growth—e.g. bacteria or rabbits—reproducing every time-step.

### Quick exercise (optional)
We have ~100 breeding pairs of great tits (musvit) in woodland around SDU. Each female lays ~6 eggs per year with an assumed 50:50 sex ratio.

- **If survival were 100%**, how many females would there be after 5 years?
- **Now relax that assumption:** allow realistic survival and recruitment. How do your answers change?

### Discussion prompts
- **Is the simple doubling model realistic?**
  - Why / why not?
- **Key processes to consider:**
  - Survival < 100%; age/stage-specific survival and fecundity
  - Density dependence (resources, territories, disease, predation)
  - Carrying capacity and feedbacks on reproduction/survival
- **Variation over time and space:**
  - Stochasticity (good/bad years), seasonality, environmental drivers
  - Dispersal, immigration/emigration
- **Model structure:**
  - Age/stage structure (e.g. juvenile vs adult), sex ratio, mating system
  - Time-step choice (daily/weekly/annual) and what processes occur within a step



## Optional: Try these calculations in R

You can do this kind of calculation easily in *R*. Try this.

```{r echo = TRUE}
myData <- data.frame(Squares = 1:64,nRice = NA)
myData$nRice[1] <- 1 

for (i in 2:64){
  myData$nRice[i] <- myData$nRice[i-1]*2
}
```

Now we can look at the top and bottom of the 64 row data frame like this:

```{r echo = TRUE}
head(myData)
tail(myData)
```

And we can sum up the total number of grains of rice on the 64 squares of the board like this:

```{r echo = TRUE}
sum(myData$nRice)
```

To put that *HUGE* number in context, if a grain of rice weighs 25mg (0.0000025kg), then we'd have `r format((2^64 - 1) * 0.000025, big.mark = ",", scientific = FALSE)` kg. That's 461 Gigatonnes, or roughly 8-900 times the yearly global rice production!
